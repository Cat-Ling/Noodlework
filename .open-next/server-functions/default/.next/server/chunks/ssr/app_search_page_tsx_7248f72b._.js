module.exports=[8266,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95188),f=a.i(93035),g=a.i(14616),h=a.i(8491),i=a.i(68925),j=a.i(40585);let k=(0,j.forwardRef)(function(a,c){var d,e,j;let{columns:k,spacingX:l,spacingY:m,spacing:n,minChildWidth:o,...p}=a,q=(0,h.useTheme)(),r=o?(d=o,e=q,(0,f.mapResponsive)(d,a=>{let b=(0,i.getToken)("sizes",a,"number"==typeof a?`${a}px`:a)(e);return null===a?null:`repeat(auto-fit, minmax(${b}, 1fr))`})):(j=k,(0,f.mapResponsive)(j,a=>null===a?null:`repeat(${a}, minmax(0, 1fr))`));return(0,b.jsx)(g.Grid,{ref:c,gap:n,columnGap:l,rowGap:m,templateColumns:r,...p})});k.displayName="SimpleGrid";var l=a.i(14019),m=a.i(25227),n=a.i(531),o=a.i(50419),p=a.i(96889),q=a.i(8301),r=a.i(91296),s=a.i(72882),t=a.i(24424),u=a.i(35726),v=a.i(41998);let w=(0,j.forwardRef)(function(a,c){let{children:d,placeholder:e,className:f,...g}=a;return(0,b.jsxs)(v.chakra.select,{...g,ref:c,className:(0,u.cx)("chakra-select",f),children:[e&&(0,b.jsx)("option",{value:"",children:e}),d]})});w.displayName="SelectField";var x=a.i(99207),y=a.i(75896);let z=(0,j.forwardRef)((a,c)=>{let d=(0,y.useMultiStyleConfig)("Select",a),{rootProps:e,placeholder:f,icon:g,color:h,height:i,h:j,minH:k,minHeight:l,iconColor:m,iconSize:n,...o}=(0,r.omitThemingProps)(a),[p,q]=function(a,b){let c={},d={};for(let[e,f]of Object.entries(a))b.includes(e)?c[e]=f:d[e]=f;return[c,d]}(o,s.layoutPropNames),u=(0,x.useFormControl)(q),z={paddingEnd:"2rem",...d.field,_focus:{zIndex:"unset",...d.field?._focus}};return(0,b.jsxs)(v.chakra.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:h},...p,...e,children:[(0,b.jsx)(w,{ref:c,height:j??i,minH:k??l,placeholder:f,...u,__css:z,children:a.children}),(0,b.jsx)(C,{"data-disabled":(0,t.dataAttr)(u.disabled),...(m||h)&&{color:m||h},__css:d.icon,...n&&{fontSize:n},children:g})]})});z.displayName="Select";let A=a=>(0,b.jsx)("svg",{viewBox:"0 0 24 24",...a,children:(0,b.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),B=(0,v.chakra)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),C=a=>{let{children:d=(0,b.jsx)(A,{}),...e}=a,f=(0,c.cloneElement)(d,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,b.jsx)(B,{...e,className:"chakra-select__icon-wrapper",children:(0,c.isValidElement)(d)?f:null})};C.displayName="SelectIcon";var D=a.i(88474),E=a.i(19431),F=a.i(61156);let[G,H]=(0,a.i(27663).createContext)({name:"CheckboxGroupContext",strict:!1});function I(a){return(0,b.jsx)(v.chakra.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...a,children:(0,b.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function J(a){return(0,b.jsx)(v.chakra.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...a,children:(0,b.jsx)("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function K(a){let{isIndeterminate:c,isChecked:d,...e}=a;return d||c?(0,b.jsx)(v.chakra.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,b.jsx)(c?J:I,{...e})}):null}var L=a.i(69629),M=a.i(22843),N=a.i(29694),O=a.i(98260),P=a.i(17090),Q=!1,R=null,S=!1,T=!1,U=new Set;function V(a,b){U.forEach(c=>c(a,b))}function W(a){S=!0,a.metaKey||a.altKey||a.ctrlKey||"Control"===a.key||"Shift"===a.key||"Meta"===a.key||(R="keyboard",V("keyboard",a))}function X(a){if(R="pointer","mousedown"===a.type||"pointerdown"===a.type){S=!0;let b=a.composedPath?a.composedPath()[0]:a.target,c=!1;try{c=b.matches(":focus-visible")}catch{}c||V("pointer",a)}}function Y(a){(0===a.mozInputSource&&a.isTrusted||0===a.detail&&!a.pointerType)&&(S=!0,R="virtual")}function Z(a){a.target===window||a.target===document||a.target instanceof Element&&a.target.hasAttribute("tabindex")||(S||T||(R="virtual",V("virtual",a)),S=!1,T=!1)}function $(){S=!1,T=!0}function _(){return"pointer"!==R}let aa={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function ab(a){a.preventDefault(),a.stopPropagation()}let ac={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},ad={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},ae=(0,F.keyframes)({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),af=(0,F.keyframes)({from:{opacity:0},to:{opacity:1}}),ag=(0,F.keyframes)({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),ah=(0,j.forwardRef)(function(a,d){let e=H(),f={...e,...a},g=(0,y.useMultiStyleConfig)("Checkbox",f),h=(0,r.omitThemingProps)(a),{spacing:i="0.5rem",className:j,children:k,iconColor:l,iconSize:m,icon:n=(0,b.jsx)(K,{}),isChecked:o,isDisabled:p=e?.isDisabled,onChange:q,inputProps:s,...w}=h,z=o;e?.value&&h.value&&(z=e.value.includes(h.value));let A=q;e?.onChange&&h.value&&(A=(0,D.callAll)(e.onChange,q));let{state:B,getInputProps:C,getCheckboxProps:F,getLabelProps:G,getRootProps:I}=function(a={}){let{isDisabled:b,isReadOnly:d,isRequired:e,isInvalid:f,id:g,onBlur:h,onFocus:i,"aria-describedby":j}=(0,x.useFormControlProps)(a),{defaultChecked:k,isChecked:l,isFocusable:m,onChange:n,isIndeterminate:o,name:p,value:q,tabIndex:r,"aria-label":s,"aria-labelledby":u,"aria-invalid":v,...w}=a,y=(0,P.omit)(w,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),z=(0,L.useCallbackRef)(n),A=(0,L.useCallbackRef)(h),B=(0,L.useCallbackRef)(i),[C,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),J=(0,c.useRef)(!1);(0,c.useEffect)(()=>{var a;let b;return a=a=>{J.current=a},!function(){if(!("u">typeof document)||Q)return;let{focus:a}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...b){S=!0,a.apply(this,b)},document.addEventListener("keydown",W,!0),document.addEventListener("keyup",W,!0),document.addEventListener("click",Y,!0),window.addEventListener("focus",Z,!0),window.addEventListener("blur",$,!1),"u">typeof PointerEvent?(document.addEventListener("pointerdown",X,!0),document.addEventListener("pointermove",X,!0),document.addEventListener("pointerup",X,!0)):(document.addEventListener("mousedown",X,!0),document.addEventListener("mousemove",X,!0),document.addEventListener("mouseup",X,!0)),Q=!0}(),a(_()),b=()=>a(_()),U.add(b),()=>{U.delete(b)}},[]);let K=(0,c.useRef)(null),[R,T]=(0,c.useState)(!0),[V,ac]=(0,c.useState)(!!k),ad=void 0!==l,ae=ad?l:V,af=(0,c.useCallback)(a=>{d||b?a.preventDefault():(ad||(ae?ac(a.currentTarget.checked):ac(!!o||a.currentTarget.checked)),z?.(a))},[d,b,ae,ad,o,z]);(0,M.useSafeLayoutEffect)(()=>{K.current&&(K.current.indeterminate=!!o)},[o]),(0,N.useUpdateEffect)(()=>{b&&E(!1)},[b,E]),(0,M.useSafeLayoutEffect)(()=>{let a=K.current;if(!a?.form)return;let b=()=>{ac(!!k)};return a.form.addEventListener("reset",b),()=>a.form?.removeEventListener("reset",b)},[]);let ag=b&&!m,ah=(0,c.useCallback)(a=>{" "===a.key&&I(!0)},[I]),ai=(0,c.useCallback)(a=>{" "===a.key&&I(!1)},[I]);(0,M.useSafeLayoutEffect)(()=>{K.current&&K.current.checked!==ae&&ac(K.current.checked)},[K.current]);let aj=(0,c.useCallback)((a={},c=null)=>({...a,ref:c,"data-active":(0,t.dataAttr)(H),"data-hover":(0,t.dataAttr)(F),"data-checked":(0,t.dataAttr)(ae),"data-focus":(0,t.dataAttr)(C),"data-focus-visible":(0,t.dataAttr)(C&&J.current),"data-indeterminate":(0,t.dataAttr)(o),"data-disabled":(0,t.dataAttr)(b),"data-invalid":(0,t.dataAttr)(f),"data-readonly":(0,t.dataAttr)(d),"aria-hidden":!0,onMouseDown:(0,D.callAllHandlers)(a.onMouseDown,a=>{C&&a.preventDefault(),I(!0)}),onMouseUp:(0,D.callAllHandlers)(a.onMouseUp,()=>I(!1)),onMouseEnter:(0,D.callAllHandlers)(a.onMouseEnter,()=>G(!0)),onMouseLeave:(0,D.callAllHandlers)(a.onMouseLeave,()=>G(!1))}),[H,ae,b,C,F,o,f,d]),ak=(0,c.useCallback)((a={},c=null)=>({...a,ref:c,"data-active":(0,t.dataAttr)(H),"data-hover":(0,t.dataAttr)(F),"data-checked":(0,t.dataAttr)(ae),"data-focus":(0,t.dataAttr)(C),"data-focus-visible":(0,t.dataAttr)(C&&J.current),"data-indeterminate":(0,t.dataAttr)(o),"data-disabled":(0,t.dataAttr)(b),"data-invalid":(0,t.dataAttr)(f),"data-readonly":(0,t.dataAttr)(d)}),[H,ae,b,C,F,o,f,d]),al=(0,c.useCallback)((a={},c=null)=>({...y,...a,ref:(0,O.mergeRefs)(c,a=>{a&&T("LABEL"===a.tagName)}),onClick:(0,D.callAllHandlers)(a.onClick,()=>{R||(K.current?.click(),requestAnimationFrame(()=>{K.current?.focus({preventScroll:!0})}))}),"data-disabled":(0,t.dataAttr)(b),"data-checked":(0,t.dataAttr)(ae),"data-invalid":(0,t.dataAttr)(f)}),[y,b,ae,f,R]),am=(0,c.useCallback)((a={},c=null)=>({...a,ref:(0,O.mergeRefs)(K,c),type:"checkbox",name:p,value:q,id:g,tabIndex:r,onChange:(0,D.callAllHandlers)(a.onChange,af),onBlur:(0,D.callAllHandlers)(a.onBlur,A,()=>E(!1)),onFocus:(0,D.callAllHandlers)(a.onFocus,B,()=>E(!0)),onKeyDown:(0,D.callAllHandlers)(a.onKeyDown,ah),onKeyUp:(0,D.callAllHandlers)(a.onKeyUp,ai),required:e,checked:ae,disabled:ag,readOnly:d,"aria-label":s,"aria-labelledby":u,"aria-invalid":v?!!v:f,"aria-describedby":j,"aria-disabled":b,"aria-checked":o?"mixed":ae,style:aa}),[p,q,g,r,af,A,B,ah,ai,e,ae,ag,d,s,u,v,f,j,b,o]),an=(0,c.useCallback)((a={},c=null)=>({...a,ref:c,onMouseDown:(0,D.callAllHandlers)(a.onMouseDown,ab),"data-disabled":(0,t.dataAttr)(b),"data-checked":(0,t.dataAttr)(ae),"data-invalid":(0,t.dataAttr)(f)}),[ae,b,f]);return{state:{isInvalid:f,isFocused:C,isChecked:ae,isActive:H,isHovered:F,isIndeterminate:o,isDisabled:b,isReadOnly:d,isRequired:e},getRootProps:al,getCheckboxProps:aj,getIndicatorProps:ak,getInputProps:am,getLabelProps:an,htmlProps:y}}({...w,isDisabled:p,isChecked:z,onChange:A}),J=function(a){let[b,d]=(0,c.useState)(a),[e,f]=(0,c.useState)(!1);return a!==b&&(f(!0),d(a)),e}(B.isChecked),R=(0,c.useMemo)(()=>({animation:J?B.isIndeterminate?`${af} 20ms linear, ${ag} 200ms linear`:`${ae} 200ms linear`:void 0,...g.icon,...(0,E.compact)({fontSize:m,color:l})}),[l,m,J,B.isIndeterminate,g.icon]),T=(0,c.cloneElement)(n,{__css:R,isIndeterminate:B.isIndeterminate,isChecked:B.isChecked});return(0,b.jsxs)(v.chakra.label,{__css:{...ad,...g.container},className:(0,u.cx)("chakra-checkbox",j),...I(),children:[(0,b.jsx)("input",{className:"chakra-checkbox__input",...C(s,d)}),(0,b.jsx)(v.chakra.span,{__css:{...ac,...g.control},className:"chakra-checkbox__control",...F(),children:T}),k&&(0,b.jsx)(v.chakra.span,{className:"chakra-checkbox__label",...G(),__css:{marginStart:i,...g.label},children:k})]})});ah.displayName="Checkbox";var ai=a.i(80817),aj=a.i(39064),ak=a.i(84187);function al(){let a=(0,d.useSearchParams)().get("q")||"",[f,g]=(0,c.useState)(a),[h,i]=(0,c.useState)([]),[j,r]=(0,c.useState)(1),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(""),[y,A]=(0,c.useState)("any"),[B,C]=(0,c.useState)("2"),[D,E]=(0,c.useState)(!1);(0,d.useRouter)(),(0,c.useEffect)(()=>{a&&(g(a),r(1),F(a,1))},[a]),(0,c.useEffect)(()=>{f&&(r(1),F(f,1))},[y,B,D]);let F=async(a,b=1)=>{if(a){1===b&&v(!0),x("");try{let c=new URLSearchParams({q:a,page:b.toString(),..."any"!==y&&{len:y},..."2"!==B&&{sort:B},...D&&{hd:"1"}}),d=await fetch(`/api/search?${c}`),e=await d.json();e.videos&&e.videos.length>0?(i(a=>1===b?e.videos:[...a,...e.videos]),t(!0)):(1===b&&i([]),t(!1))}catch(a){console.error(a),x("Failed to fetch videos")}finally{v(!1)}}};return(0,b.jsx)(e.Box,{minH:"100vh",bg:"gray.900",color:"white",p:4,children:(0,b.jsxs)(p.Container,{maxW:"container.xl",children:[(0,b.jsxs)(l.Heading,{size:"lg",mb:6,mt:4,children:['Search Results for "',f,'"']}),(0,b.jsx)(e.Box,{mb:6,p:4,bg:"gray.800",borderRadius:"lg",children:(0,b.jsxs)(ai.HStack,{spacing:4,flexWrap:"wrap",children:[(0,b.jsxs)(aj.VStack,{align:"start",spacing:1,children:[(0,b.jsx)(o.Text,{fontSize:"xs",color:"gray.400",fontWeight:"semibold",children:"Duration"}),(0,b.jsxs)(z,{value:y,onChange:a=>A(a.target.value),size:"sm",bg:"gray.700",borderColor:"gray.600",color:"white",w:"120px",sx:{option:{bg:"gray.800",color:"white"}},children:[(0,b.jsx)("option",{value:"any",children:"Any"}),(0,b.jsx)("option",{value:"long",children:"Long"}),(0,b.jsx)("option",{value:"short",children:"Short"})]})]}),(0,b.jsxs)(aj.VStack,{align:"start",spacing:1,children:[(0,b.jsx)(o.Text,{fontSize:"xs",color:"gray.400",fontWeight:"semibold",children:"Sort By"}),(0,b.jsxs)(z,{value:B,onChange:a=>C(a.target.value),size:"sm",bg:"gray.700",borderColor:"gray.600",color:"white",w:"140px",sx:{option:{bg:"gray.800",color:"white"}},children:[(0,b.jsx)("option",{value:"2",children:"Relevance"}),(0,b.jsx)("option",{value:"1",children:"Duration"}),(0,b.jsx)("option",{value:"0",children:"Date Added"})]})]}),(0,b.jsx)(aj.VStack,{align:"start",spacing:1,pt:5,children:(0,b.jsx)(ah,{isChecked:D,onChange:a=>E(a.target.checked),colorScheme:"teal",children:"HD Only"})})]})}),(0,b.jsxs)(e.Box,{position:"relative",zIndex:1,children:[u?(0,b.jsx)(n.Center,{h:"50vh",children:(0,b.jsx)(m.Spinner,{size:"xl",color:"teal.500",thickness:"4px"})}):w?(0,b.jsx)(n.Center,{h:"50vh",children:(0,b.jsx)(o.Text,{color:"red.400",children:w})}):(0,b.jsx)(k,{columns:[1,2,3,4],spacing:6,children:h.map(a=>(0,b.jsx)(ak.VideoCard,{...a},a.id))}),!u&&0===h.length&&f&&(0,b.jsx)(n.Center,{h:"20vh",children:(0,b.jsx)(o.Text,{color:"gray.500",children:"No videos found."})}),!u&&s&&h.length>0&&(0,b.jsx)(n.Center,{mt:8,children:(0,b.jsx)(q.Button,{onClick:()=>{let a=j+1;r(a),F(f,a)},size:"lg",colorScheme:"teal",variant:"outline",_hover:{bg:"whiteAlpha.100"},children:"Show More"})})]})]})})}function am(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(n.Center,{h:"100vh",bg:"gray.900",children:(0,b.jsx)(m.Spinner,{size:"xl",color:"teal.500"})}),children:(0,b.jsx)(al,{})})}a.s(["default",()=>am],8266)}];

//# sourceMappingURL=app_search_page_tsx_7248f72b._.js.map